<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>React Decision Tree</title>
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6.26.0/babel.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #2e2e2e;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .container {
      text-align: center;
      padding: 20px;
      background: #424242;
      border-radius: 10px;
      width: 90%;
      max-width: 600px;
    }
    .question {
      font-size: 20px;
      margin-bottom: 20px;
    }
    .btn {
      display: block;
      margin: 10px auto;
      padding: 10px 20px;
      font-size: 16px;
      background: #d9841a;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .btn:hover {
      background: #c27414;
    }
    .dropdown {
      margin: 10px auto;
      padding: 10px;
      font-size: 16px;
      width: 60%;
    }
    .summary {
      text-align: left;
      background: #333;
      padding: 15px;
      border-radius: 5px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const steps = [
      {
        question: "Do you want to manage a single enterprise, or multiple enterprises?",
        options: [
          { text: "Single Enterprise", next: 1 },
          { text: "Multiple Enterprises", next: 1 }
        ]
      },
      {
        question: "Do you want Earth Connect or Local Connect?",
        options: [
          { text: "Earth Connect", next: 2 },
          { text: "Local Connect", next: 3 }
        ]
      },
      {
        question: "Select a service:",
        options: [
          { text: "FlexiSIM", next: 4 },
          { text: "StarLink", next: 4 },
          { text: "Private", next: 4 }
        ]
      },
      {
        question: "Select a local SIM option:",
        dropdown: ["MTN SIM", "Vodacom SIM", "Telecom SIM", "EE SIM", "AT&T SIM"],
        next: 4
      },
      {
        question: "What form factor card do you want?",
        options: [
          { text: "E-SIM", next: 5 },
          { text: "Physical SIM", next: 5 },
          { text: "Chip-SIM", next: 5 }
        ]
      },
      {
        question: "Do you want Single IMSI or Multi-IMSI?",
        options: [
          { text: "Single IMSI", next: 6 },
          { text: "Multi-IMSI", next: 6 }
        ]
      },
      {
        question: "Choose a switch plan:",
        dropdown: ["Switch Plan 1", "Switch Plan 2", "Switch Plan 3", "Custom Plan"],
        next: 7
      },
      {
        question: "You have completed your selection. Thank you!",
        isFinal: true
      }
    ];

    function App() {
      const [currentStep, setCurrentStep] = React.useState(0);
      const [userSelections, setUserSelections] = React.useState([]);

      const handleOptionClick = (option) => {
        setUserSelections([...userSelections, { question: steps[currentStep].question, answer: option.text }]);
        setCurrentStep(option.next);
      };

      const handleDropdownSubmit = (dropdownValue) => {
        setUserSelections([...userSelections, { question: steps[currentStep].question, answer: dropdownValue }]);
        setCurrentStep(steps[currentStep].next);
      };

      const renderSummary = () => (
        <div className="summary">
          <h3>Your Selections:</h3>
          {userSelections.map((entry, index) => (
            <p key={index}>
              <strong>Step {index + 1}:</strong> {entry.question}<br />
              <em>Answer:</em> {entry.answer}
            </p>
          ))}
        </div>
      );

      const renderStep = () => {
        const step = steps[currentStep];

        if (step.isFinal) {
          return (
            <div>
              <div className="question">{step.question}</div>
              {renderSummary()}
            </div>
          );
        }

        return (
          <div>
            <div className="question">{step.question}</div>
            {step.options && step.options.map((option, index) => (
              <button key={index} className="btn" onClick={() => handleOptionClick(option)}>
                {option.text}
              </button>
            ))}
            {step.dropdown && (
              <div>
                <select id="dropdown" className="dropdown">
                  {step.dropdown.map((item, index) => (
                    <option key={index} value={item}>{item}</option>
                  ))}
                </select>
                <button className="btn" onClick={() => handleDropdownSubmit(document.getElementById("dropdown").value)}>
                  Submit
                </button>
              </div>
            )}
          </div>
        );
      };

      return <div className="container">{renderStep()}</div>;
    }

    ReactDOM.render(<App />, document.getElementById("root"));
  </script>
</body>
</html>
